<h2 align="center">  CONFIGURACIN DE PROMETHEUS  </h2>

### `Paso 1`: A帽adir servicio `prometheus`
- Se a帽ade  dos nuevos servicios llamados `Prometheus` y `Node Exporter` al archivo `docker-compose.yml`. Este contenedor se encarga de monitorizar el estado y rendimiento de la maquina:

```yaml
  prometheus:
    image: prom/prometheus:latest
    container_name: prometheus
    restart: unless-stopped
    ports:
      - "9090:9090"
    volumes:
      - /home/manuelms/prometheus/prometheus.yml:/etc/prometheus/prometheus.yml
    networks:
      - media-network

  node_exporter:
    image: prom/node-exporter:latest
    container_name: node_exporter
    restart: unless-stopped
    network_mode: "host" 
    pid: "host"
    volumes:
      - /proc:/host/proc:ro
      - /sys:/host/sys:ro
      - /:/rootfs:ro
```

*Esto lanza el contenedor de* `Prometheus` *y le indica que use un archivo de configuraci贸n personalizado (prometheus.yml) y el contenedor de* `Node Exporter`

> *Explicaci贸n de par谩metros*

- `image`: Usa la imagen oficial de Prometheus

- `volumes`: Monta el archivo de configuraci贸n prometheus.yml en el contenedor

- `ports`: Expone Prometheus en el puerto 9090

- `networks`: Usa la misma red que Jellyfin para poder conectarse a 茅l

- `network_mode`: Comparte la red con la m谩quina real para exponer m茅tricas directamente

- `pid`: Acceso a informaci贸n de procesos del host

---

### `Paso 2`: Archivo `prometheus.yml`:

- Este archivo contiene la configuraci贸n de qu茅 servicios va a monitorizar Prometheus

```yaml
global:
  scrape_interval: 15s

scrape_configs:
  - job_name: 'node'
    static_configs:
      - targets: ['localhost:9100']
```

> *Explicaci贸n de par谩metros*

- `scrape_interval`: Frecuencia con la que Prometheus consulta datos (cada 15 segundos)

- `targets`: Indica a qu茅 servicio debe conectarse para obtener m茅tricas, en este caso Jellyfin

---

### `Paso 3`: Levantar contenedor de `Prometheus` y `Node Exporter`
  
```bash
sudo docker compose up -d prometheus node_exporter
```


---

### `Paso 4`: Comprobaci贸n
  
Se accede desde el navegador en: 

```bash
http://IP_DE_LA_MV:9090
```
