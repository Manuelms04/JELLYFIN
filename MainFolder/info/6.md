<h2 align="center"> üìä CONFIGURACI√ìN DE GRAFANA üìä </h2>

### `Paso 1`: Se a√±ade el servicio grafana al archivo `docker-compose.yml` para visualizar m√©tricas de Prometheus:

```yaml
grafana:
  image: grafana/grafana:latest
  container_name: grafana
  restart: unless-stopped
  ports:
    - "3000:3000"
  environment:
    - GF_SECURITY_ADMIN_PASSWORD=admin
  networks:
    - media-network
```

> *Explicaci√≥n de par√°metros*

- `image`: Usa la imagen oficial de Grafana

- `restart`: Reinicia el contenedor autom√°ticamente a menos que se detenga manualmente 

- `ports`: Expone la interfaz web en el puerto 3000

- `environment`: Establece la contrase√±a del usuario administrador

- `networks`: Conecta Grafana a la red interna donde est√° Prometheus

---

### `Paso 2`: Acceso a Grafana
Desde el navegador:

```bash
http://IP_DE_LA_MV:3000
```

- Usuario: `admin`

- Contrase√±a: `admin`

---

### `Paso 3`: Conectar Prometheus

- En la interfaz de Grafana:

- Ir a Connections ‚Üí Data Sources

- Seleccionar Prometheus

    - Establecer la URL como:

```bash
http://prometheus:9090
```

> *Grafana podr√° visualizar los datos recogidos por Prometheus*

---

### `Paso 4`: Conectar Prometheus

Una vez configurada la fuente de datos, se pueden crear paneles para visualizar las m√©tricas del sistema.

- Hacer clic en el icono de `+` en el men√∫ lateral y seleccionar `Dashboard`
  
- Se abrir√° un panel vac√≠o. Hacer clic en `Add Panel`
  
- En el panel de configuraci√≥n, seleccionar el tipo de visualizaci√≥n que se desee (por ejemplo, gr√°fico de l√≠neas, barra de progreso, etc.)
  
- En la secci√≥n de `Query`, seleccionar Prometheus como la fuente de datos y escribir una consulta para mostrar las m√©tricas que se quiera mostrar:

  - `Uso de RAM`:

  ```promql
  100 * (1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes))
  ```

  - `Uso total de CPU`:

  ```promql
  100 - (avg by (instance) (rate(node_cpu_seconds_total{mode="idle"}[5m])) * 100)
  ```

  - `Espacio en disco utilizado`:

  ```promql
  100 * (node_filesystem_size_bytes - node_filesystem_free_bytes) / node_filesystem_size_bytes
  ```

  - `Tr√°fico de red recibido (bytes/seg)`:

  ```promql
  rate(node_network_receive_bytes_total[5m])
  ```

  - `Tr√°fico de red enviado (bytes/seg)`:

  ```promql
  rate(node_network_transmit_bytes_total[5m])
  ```

- Configurar el panel seg√∫n las preferencias, como el t√≠tulo, la leyenda, el formato y el rango de tiempo
  
- Hacer clic en `Apply` para guardar el panel
  
