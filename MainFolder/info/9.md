<h2 align="center">ðŸ“‚ INTEGRACIÃ“N DE SAMBA PARA COMPARTIR ARCHIVOS MULTIMEDIA ðŸ“‚</h2>

*Para facilitar el acceso y la carga de archivos multimedia desde otros equipos de la red local, se ha integrado un sistema de comparticiÃ³n de carpetas mediante*

---

### `Paso 1`: CreaciÃ³n del archivo `instalar_samba.sh`

```bash
nano instalar_samba.sh
```

![](/MainFolder/img/44.png)

---

### `Paso 2`: AutomatizaciÃ³n del proceso con `Script Bash`

Se ha creado un script para automatizar la instalaciÃ³n y configuraciÃ³n de `Samba`. El script realiza los siguientes pasos:

- Actualiza los repositorios e instala el paquete `samba`

- Crea una carpeta para compartir archivos

- Asigna permisos adecuados

- Crea un usuario `Samba`

- Configura automÃ¡ticamente el archivo `smb.conf`

- Reinicia el servicio `smbd`

&nbsp;

> *CONTENIDO DEL ARCHIVO* `instalar_samba.sh`

```bash
#!/bin/bash

# Actualizar repositorios e instalar Samba
sudo apt update
sudo apt install samba -y

# Crear carpeta compartida
sudo mkdir -p /home/manuelms/MediaCompartida

# Asignar permisos
sudo chmod -R 775 /home/manuelms/MediaCompartida

# AÃ±adir usuario Samba (se pedirÃ¡ la contraseÃ±a para el usuario 'samba')
sudo smbpasswd -a samba

# Agregar configuraciÃ³n Samba (se aÃ±ade al final del archivo smb.conf)
sudo bash -c 'cat >> /etc/samba/smb.conf << EOF

[Media]
   path = /home/manuelms/MediaCompartida
   writable = yes
   browseable = yes
   valid users = samba
   create mask = 0664
   directory mask = 0775
EOF'

# Reiniciar servicio Samba
sudo systemctl restart smbd

echo "ConfiguraciÃ³n completa."
echo "Para acceder desde otro equipo, usar: \\\\IP_DE_LA_MV\\Media"
echo "Recuerda montar el volumen en Jellyfin con:"
echo "volumes:"
echo "  - /home/manuelms/MediaCompartida:/media"
```

![](/MainFolder/img/45.png)

> *ExplicaciÃ³n de parÃ¡metros*

- `path`: Ruta de la carpeta compartida

- `writable`: Permite escribir en la carpeta

- `browseable`: Hace visible la carpeta en la red

- `valid users`: Usuario autorizado para acceder

- `create mask`: Permisos por defecto para archivos

- `directory mask`: Permisos por defecto para carpetas

---

### `Paso 3`: Dar permisos de ejecuciÃ³n al script
Antes de ejecutarlo, es necesario que tenga permisos de ejecuciÃ³n:

```bash
chmod +x instalar_samba.sh
```

![](/MainFolder/img/46.png)

---

### `Paso 4`: Ejecutar el Script

```bash
sudo ./instalar_samba.sh
```

![](/MainFolder/img/47.png)

---

### `Paso 5`: Acceso desde otros equipos

Desde el explorador de archivos de otro dispositivo, se debe acceder a travÃ©s de la ruta:

```bash
\\IP_DE_LA_MV\Media
```

![](/MainFolder/img/48.png)

> *Se deben introducir las credenciales del usuario* `Samba` *cuando lo solicite*

---

### `Paso 6`: IntegraciÃ³n con `Jellyfin`

Para que `Jellyfin` acceda a la carpeta compartida como su biblioteca multimedia, se debe modificar el volumen en el archivo `docker-compose.yml`:

```yaml
volumes:
  - /home/manuelms/MediaCompartida:/media
```

![](/MainFolder/img/49.png)

---

### `Paso 7`: AÃ±adir la carpeta como biblioteca en `Jellyfin`

- Abrir Jellyfin en el navegador 

- Acceder a: Panel de administraciÃ³n â†’ Bibliotecas

- Hacer clic en `Agregar biblioteca`

- Seleccionar el tipo de contenido *(PelÃ­culas, Series, MÃºsicaâ€¦)*

- En el campo Ruta de carpeta, introducir:

```bash
/media
```

![](/MainFolder/img/50.png)

- Guardar los cambios y permitir que Jellyfin escanee los archivos

> *A partir de este momento, todo archivo aÃ±adido a /home/manuelms/MediaCompartida estarÃ¡ disponible en la biblioteca de Jellyfin*









<!---



<h2 align="center">ðŸ“‚ IntegraciÃ³n de Samba para Compartir Archivos Multimedia ðŸ“‚</h2>

*Para facilitar el acceso y la carga de archivos multimedia desde otros equipos de la red local, se ha integrado un sistema de comparticiÃ³n de carpetas mediante*

---

### `Paso 1`: InstalaciÃ³n de Samba

- Ejecutar los siguientes comandos en la terminal de la mÃ¡quina virtual Debian

```bash
sudo apt update
sudo apt install samba -y
```

![](/MainFolder/img/.png)

---

### `Paso 2`: Crear Carpeta Compartida con Permisos

- Crear una carpeta destinada al almacenamiento compartido de archivos multimedia

```bash
sudo mkdir -p /home/manuelms/MediaCompartida
```

![](/MainFolder/img/.png)

- Asignar permisos lectura, escritura y ejecuciÃ³n al propietario y grupo, y lectura y ejecuciÃ³n a otros usuarios
  
```bash
sudo chmod -R 775 /home/manuelms/MediaCompartida
```

![](/MainFolder/img/.png)

---

### `Paso 3`: Crear Usuario Samba</h3>

- AÃ±adir un usuario Samba para acceder desde otros dispositivos de la red

```bash
sudo smbpasswd -a samba
```

![](/MainFolder/img/.png)

> *Este serÃ¡ el usuario con el que se accede desde Windows u otros sistemas*

---

### `Paso 4`: ConfiguraciÃ³n del archivo `smb.conf`

- Editar el archivo de configuraciÃ³n de Samba:

```bash
sudo nano /etc/samba/smb.conf
```

![](/MainFolder/img/.png)

- AÃ±adir al final del archivo:

```java
[Media]
   path = /home/manuelms/MediaCompartida
   writable = yes
   browseable = yes
   valid users = samba
   create mask = 0664
   directory mask = 0775
```

![](/MainFolder/img/.png)

> *ExplicaciÃ³n de parÃ¡metros*

- `path`: Ruta de la carpeta compartida

- `writable`: Permite escribir en la carpeta

- `browseable`: Hace visible la carpeta en la red

- `valid users`: Usuario autorizado para acceder

- `create mask`: Permisos por defecto para archivos

- `directory mask`: Permisos por defecto para carpetas

---

### `Paso 5`: Reiniciar el servicio Samba

```bash
sudo systemctl restart smbd
```

![](/MainFolder/img/.png)

---

### `Paso 6`: Acceso desde otros equipos

- Desde el explorador de archivos de otro dispositivo: 

```bash
\\IP_DE_LA_MV\Media
```

![](/MainFolder/img/.png)

 > *Introduce las credenciales del usuario Samba cuando lo solicite*

---

### `Paso 7`: Integrar con Jellyfin

- Para que Jellyfin acceda a la carpeta compartida como su biblioteca multimedia, modificar el volumen en el archivo `docker-compose.yml`

```yaml
volumes:
  - /home/manuelms/MediaCompartida:/media
```

![](/MainFolder/img/.png)
