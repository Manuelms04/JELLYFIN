<h2 align="center"> INTEGRACIN DE SAMBA PARA COMPARTIR ARCHIVOS MULTIMEDIA </h2>

*Para facilitar el acceso y la carga de archivos multimedia desde otros equipos de la red local, se ha integrado un sistema de compartici贸n de carpetas mediante*

---

### `Paso 1`: Automatizaci贸n del proceso con `Script Bash`

Se ha creado un script para automatizar la instalaci贸n y configuraci贸n de `Samba`. El script realiza los siguientes pasos:

- Actualiza los repositorios e instala el paquete `samba`

- Crea una carpeta para compartir archivos

- Asigna permisos adecuados

- Crea un usuario `Samba`

- Configura autom谩ticamente el archivo `smb.conf`

- Reinicia el servicio `smbd`

```bash
#!/bin/bash

# Actualizar repositorios e instalar Samba
sudo apt update
sudo apt install samba -y

# Crear carpeta compartida
sudo mkdir -p /home/manuelms/MediaCompartida

# Asignar permisos
sudo chmod -R 775 /home/manuelms/MediaCompartida

# A帽adir usuario Samba (se pedir谩 la contrase帽a para el usuario 'samba')
sudo smbpasswd -a samba

# Agregar configuraci贸n Samba (se a帽ade al final del archivo smb.conf)
sudo bash -c 'cat >> /etc/samba/smb.conf << EOF

[Media]
   path = /home/manuelms/MediaCompartida
   writable = yes
   browseable = yes
   valid users = samba
   create mask = 0664
   directory mask = 0775
EOF'

# Reiniciar servicio Samba
sudo systemctl restart smbd

echo "Configuraci贸n completa."
echo "Para acceder desde otro equipo, usar: \\\\IP_DE_LA_MV\\Media"
echo "Recuerda montar el volumen en Jellyfin con:"
echo "volumes:"
echo "  - /home/manuelms/MediaCompartida:/media"
```

---

### `Paso 2`: Acceso desde otros equipos

Desde el explorador de archivos de otro dispositivo, se debe acceder a trav茅s de la ruta:

```bash
\\IP_DE_LA_MV\Media
```

> *Se deben introducir las credenciales del usuario* `Samba` *cuando lo solicite*

---

### `Paso 3`: Integraci贸n con `Jellyfin`

Para que `Jellyfin` acceda a la carpeta compartida como su biblioteca multimedia, se debe modificar el volumen en el archivo `docker-compose.yml`:

```yaml
volumes:
  - /home/manuelms/MediaCompartida:/media
```









<!---



<h2 align="center"> Integraci贸n de Samba para Compartir Archivos Multimedia </h2>

*Para facilitar el acceso y la carga de archivos multimedia desde otros equipos de la red local, se ha integrado un sistema de compartici贸n de carpetas mediante*

---

### `Paso 1`: Instalaci贸n de Samba

- Ejecutar los siguientes comandos en la terminal de la m谩quina virtual Debian

```bash
sudo apt update
sudo apt install samba -y
```

![](/MainFolder/img/.png)

---

### `Paso 2`: Crear Carpeta Compartida con Permisos

- Crear una carpeta destinada al almacenamiento compartido de archivos multimedia

```bash
sudo mkdir -p /home/manuelms/MediaCompartida
```

![](/MainFolder/img/.png)

- Asignar permisos lectura, escritura y ejecuci贸n al propietario y grupo, y lectura y ejecuci贸n a otros usuarios
  
```bash
sudo chmod -R 775 /home/manuelms/MediaCompartida
```

![](/MainFolder/img/.png)

---

### `Paso 3`: Crear Usuario Samba</h3>

- A帽adir un usuario Samba para acceder desde otros dispositivos de la red

```bash
sudo smbpasswd -a samba
```

![](/MainFolder/img/.png)

> *Este ser谩 el usuario con el que se accede desde Windows u otros sistemas*

---

### `Paso 4`: Configuraci贸n del archivo `smb.conf`

- Editar el archivo de configuraci贸n de Samba:

```bash
sudo nano /etc/samba/smb.conf
```

![](/MainFolder/img/.png)

- A帽adir al final del archivo:

```java
[Media]
   path = /home/manuelms/MediaCompartida
   writable = yes
   browseable = yes
   valid users = samba
   create mask = 0664
   directory mask = 0775
```

![](/MainFolder/img/.png)

> *Explicaci贸n de par谩metros*

- `path`: Ruta de la carpeta compartida

- `writable`: Permite escribir en la carpeta

- `browseable`: Hace visible la carpeta en la red

- `valid users`: Usuario autorizado para acceder

- `create mask`: Permisos por defecto para archivos

- `directory mask`: Permisos por defecto para carpetas

---

### `Paso 5`: Reiniciar el servicio Samba

```bash
sudo systemctl restart smbd
```

![](/MainFolder/img/.png)

---

### `Paso 6`: Acceso desde otros equipos

- Desde el explorador de archivos de otro dispositivo: 

```bash
\\IP_DE_LA_MV\Media
```

![](/MainFolder/img/.png)

 > *Introduce las credenciales del usuario Samba cuando lo solicite*

---

### `Paso 7`: Integrar con Jellyfin

- Para que Jellyfin acceda a la carpeta compartida como su biblioteca multimedia, modificar el volumen en el archivo `docker-compose.yml`

```yaml
volumes:
  - /home/manuelms/MediaCompartida:/media
```

![](/MainFolder/img/.png)
